# Application
APP_NAME=nAI Backend
APP_ENV=development
DEBUG=false

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001
API_PREFIX=/api/v1

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/nai_backend

# Authentik Configuration
AUTHENTIK_URL=http://127.0.0.1:9000
AUTHENTIK_TOKEN=your-admin-token-here
AUTHENTIK_PUBLIC_KEY_URL=/application/o/nai-platform/jwks/
AUTHENTIK_CLIENT_ID=nai-platform
AUTHENTIK_CLIENT_SECRET=your-client-secret-here
AUTHENTIK_TIMEOUT_SECONDS=30
AUTHENTIK_VERIFY_SSL=true
AUTHENTIK_JWKS_CACHE_TTL_SECONDS=3600
AUTHENTIK_MAX_RETRIES=3

# JWT Configuration
JWT_ALGORITHM=RS256
JWT_ISSUER=http://127.0.0.1:9000/application/o/nai-platform/
JWT_AUDIENCE=nai-platform
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30
JWT_LEEWAY_SECONDS=10
JWT_PRIVATE_KEY_PATH=/path/to/private.key
JWT_PUBLIC_KEY_PATH=/path/to/public.key

# Security Flags
DEVICE_AUTH_REQUIRED=true
PASSWORD_AUTH_ENABLED=false
WEBAUTHN_USER_VERIFICATION=required
WEBAUTHN_RP_ID=localhost
WEBAUTHN_RP_NAME=nAI Platform
WEBAUTHN_CHALLENGE_TIMEOUT=60000
WEBAUTHN_ATTESTATION=direct
REQUIRE_TRUSTED_DEVICE=true
ENFORCE_MFA=true
SESSION_TIMEOUT_MINUTES=480
MAX_FAILED_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# Logging Configuration (see CLAUDE.md for details)
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_RETENTION_DAYS=90
LOG_ENABLE_PII_FILTERING=true
LOG_ADD_TIMESTAMP=true
LOG_ADD_CALLER_INFO=true
LOG_BUFFER_SIZE=1000
LOG_MAX_FILE_SIZE_MB=100
LOG_BACKUP_COUNT=10

# Redis Configuration (for caching and sessions)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_CONNECTION_TIMEOUT=5
REDIS_SOCKET_TIMEOUT=5
